# スペックテンプレート利用ガイド

## 概要

このドキュメントでは、プロジェクト初期化とスペックドキュメント作成のためのテンプレートと、それらを活用したワークフローを説明します。

---

## 🚀 クイックスタート

### 1. 新規プロジェクトの初期化

```bash
/init-project [project-name]
```

このコマンドを実行すると、対話形式でプロジェクト情報を収集し、以下のドキュメントを自動生成します：

- **PROJECT_OVERVIEW.md** - プロジェクト概要
- **TECHNICAL_ARCHITECTURE.md** - 技術アーキテクチャ
- **DEVELOPMENT_STANDARDS.md** - 開発標準
- **PHASE_PLAN.md** - フェーズ別実装計画

### 2. 生成されるディレクトリ構造

```
specs/
├── PROJECT_OVERVIEW.md           # プロジェクト概要
├── TECHNICAL_ARCHITECTURE.md     # 技術アーキテクチャ
├── DEVELOPMENT_STANDARDS.md      # 開発標準
├── PHASE_PLAN.md                # フェーズ計画
├── requirements/                # 機能別要件定義
├── technical/                   # 機能別技術仕様
├── implementation/              # 機能別実装ガイド
└── decisions/                   # Architecture Decision Records
```

---

## 📋 スペックテンプレート詳細

### PROJECT_OVERVIEW.md テンプレート

**用途**: プロジェクトの全体像、ビジネス目標、ステークホルダー情報を記録

**主要セクション**:
1. **エグゼクティブサマリー**: ビジョン、ミッション、価値提案
2. **ビジネスコンテキスト**: 背景、目標、市場分析、ROI
3. **ステークホルダー**: チーム、関係者、エンドユーザー
4. **スコープ定義**: MVP機能、フェーズ計画、境界条件
5. **成功基準**: ビジネス指標、技術指標、満足度指標
6. **リスクと課題**: 技術・ビジネスリスク、既知の課題
7. **依存関係**: 技術・組織・外部依存
8. **予算とリソース**: 開発予算、必要リソース
9. **コミュニケーション計画**: 定例会議、レポーティング

**記入のポイント**:
- ビジネス価値を明確に
- 定量的な目標設定
- ステークホルダーの期待値管理

### TECHNICAL_ARCHITECTURE.md テンプレート

**用途**: システムの技術的な設計、アーキテクチャパターン、技術スタックを定義

**主要セクション**:
1. **システムアーキテクチャ**: アーキテクチャ図、パターン、設計原則
2. **技術スタック**: フロントエンド、バックエンド、DB、インフラ
3. **データアーキテクチャ**: ERD、エンティティ定義、データフロー
4. **セキュリティアーキテクチャ**: 認証/認可フロー、OWASP対策
5. **パフォーマンスアーキテクチャ**: 目標値、最適化戦略
6. **可用性とレジリエンス**: SLA、障害対策、DR計画
7. **API設計**: API規約、共通仕様、エラーコード
8. **インテグレーション**: 外部サービス連携、Webhook
9. **監視とロギング**: ログ戦略、監視項目
10. **デプロイメントアーキテクチャ**: 環境構成、CI/CD

**記入のポイント**:
- 図を多用して視覚的に
- 技術選定の理由を明記
- 非機能要件を具体的に

### DEVELOPMENT_STANDARDS.md テンプレート

**用途**: チーム全体で遵守すべき開発標準、コーディング規約を定義

**主要セクション**:
1. **コーディング規約**: 言語別規約、命名規則、コメント規約
2. **ディレクトリ構造**: 標準構造、ファイル配置規約
3. **テスト戦略**: テストピラミッド、各種テスト規約
4. **Git ワークフロー**: ブランチ戦略、コミットメッセージ、PR規約
5. **コード品質管理**: 静的解析、品質ゲート、カバレッジ目標
6. **セキュリティガイドライン**: OWASP対策、環境変数管理
7. **パフォーマンスガイドライン**: 最適化ベストプラクティス
8. **エラーハンドリング**: エラークラス定義、ハンドリングパターン
9. **ドキュメンテーション**: 必須ドキュメント、コードドキュメント
10. **CI/CD**: CI パイプライン、デプロイフロー

**記入のポイント**:
- 具体的なコード例を提示
- Good/Bad例を明示
- 実施可能な内容に

### PHASE_PLAN.md テンプレート

**用途**: プロジェクトをフェーズに分割し、具体的な実装計画を策定

**主要セクション**:
1. **全体計画**: タイムライン、フェーズ概要、マイルストーン
2. **Phase 1 (MVP)**:
   - 機能リスト（優先度付き）
   - 技術実装計画（DB、API、UI）
   - 週次実装スケジュール
   - 成果物と受入基準
3. **Phase 2-4**: 同様の構造
4. **フェーズ間の依存関係**: 依存関係図
5. **リソース計画**: チーム構成、外部リソース
6. **予算配分**: Phase別予算
7. **品質保証計画**: テスト戦略、品質ゲート
8. **リスク管理**: 全体リスク、Phase別リスク
9. **成功指標**: Phase別KPI、累積KPI

**記入のポイント**:
- 優先度を明確に（P0/P1/P2）
- 依存関係を可視化
- 現実的な工数見積もり

---

## 🔄 ワークフロー統合

### プロジェクト開始からMVPリリースまで

```
1. プロジェクト初期化
   ↓
   /init-project my-project
   ↓
   [対話形式で情報収集]
   ↓
   [4つのスペックドキュメント自動生成]

2. スペックレビューと調整
   ↓
   各ドキュメントを確認・編集
   ↓
   ステークホルダーレビュー

3. 機能別要件定義
   ↓
   /add-requirements [feature-1]
   ↓
   /add-requirements [feature-2]

4. 技術仕様作成
   ↓
   /add-technical [feature-1]
   ↓
   /spec-check [feature-1]

5. 実装ガイド作成
   ↓
   /add-implementation [feature-1]
   ↓
   /spec-check [feature-1]

6. 実装
   ↓
   /implement [feature-1]
   ↓
   [TDD方式で実装]

7. 実装確認
   ↓
   /check-implementation [feature-1]
   ↓
   [品質ゲート通過確認]

8. スペック更新
   ↓
   /update-specs [feature-1]
   ↓
   [実装結果を仕様書に反映]

9. コミット
   ↓
   /commit-prep
   ↓
   [最終品質チェック→コミット]

10. 次の機能へ（ステップ3に戻る）
```

---

## 📝 テンプレート使用例

### 例1: SaaSアプリケーション

```bash
/init-project enterprise-ai-platform
```

**生成される PROJECT_OVERVIEW.md の例**:
- **ビジョン**: AIを活用した業務効率化プラットフォーム
- **MVP機能**:
  - マルチテナント認証
  - 日次振り返りエージェント
  - レポート機能
- **Phase 1期間**: 3ヶ月
- **成功指標**: MAU 1,000人、NPS > 50

### 例2: eコマースプラットフォーム

```bash
/init-project ecommerce-platform
```

**生成される TECHNICAL_ARCHITECTURE.md の例**:
- **アーキテクチャ**: マイクロサービス
- **技術スタック**: Next.js, PostgreSQL, Redis, Stripe
- **主要機能**: 商品管理、カート、決済、在庫管理
- **SLA**: 99.9% uptime

---

## 🎯 ベストプラクティス

### 1. プロジェクト初期化時

✅ **Do**:
- すべての質問に丁寧に回答
- 不明確な点は後で更新可能
- ステークホルダーを巻き込む
- 定量的な目標を設定

❌ **Don't**:
- 曖昧な回答で進めない
- スコープを大きくしすぎない
- 実現不可能な目標を設定しない

### 2. スペックドキュメント記入時

✅ **Do**:
- 具体的な数値を記載
- 図やテーブルを活用
- 技術選定の理由を明記
- リスクを正直に記載

❌ **Don't**:
- 抽象的な表現で済ませない
- 重要な情報を省略しない
- 楽観的すぎる計画を立てない

### 3. スペック更新時

✅ **Do**:
- 実装結果を正確に反映
- 変更理由を記録（ADR）
- 学びを次に活かす
- 定期的にレビュー

❌ **Don't**:
- 更新を怠らない
- 形骸化させない
- 決定事項を記録し忘れない

---

## 🔧 カスタマイズ

### テンプレートのカスタマイズ方法

1. **テンプレートファイルを編集**:
   ```bash
   # テンプレート編集
   specs/templates/PROJECT_OVERVIEW.template.md
   specs/templates/TECHNICAL_ARCHITECTURE.template.md
   specs/templates/DEVELOPMENT_STANDARDS.template.md
   specs/templates/PHASE_PLAN.template.md
   ```

2. **セクションの追加/削除**:
   - プロジェクトに必要なセクションを追加
   - 不要なセクションを削除
   - 順序の変更

3. **スラッシュコマンドのカスタマイズ**:
   ```bash
   # コマンドファイル編集
   .claude/commands/init-project.md
   ```

### 組織固有の規約追加

```markdown
## [組織名] 固有の規約

### コーディング規約
- [組織固有の規約1]
- [組織固有の規約2]

### デプロイメントルール
- [組織固有のルール1]
- [組織固有のルール2]
```

---

## 📚 関連ドキュメント

- [WORKFLOW_GUIDE.md](./WORKFLOW_GUIDE.md) - 8ステップワークフロー詳細
- [IMPLEMENTATION_PLAN.md](./IMPLEMENTATION_PLAN.md) - 実装計画
- [A2A_PROTOCOL_GUIDE.md](./A2A_PROTOCOL_GUIDE.md) - A2Aプロトコルガイド

---

## ❓ よくある質問

### Q1: プロジェクト途中からテンプレートを使える？

**A**: はい、可能です。既存のドキュメントをテンプレートに合わせて再構成することをお勧めします。

### Q2: テンプレートをすべて埋める必要がある？

**A**: いいえ。プロジェクトの規模に応じて、必要なセクションのみ記入してください。

### Q3: スペック更新の頻度は？

**A**:
- 実装完了時: 必須
- フェーズ完了時: 必須
- 定期レビュー: 月1回推奨

### Q4: ADRはいつ作成する？

**A**: 以下の場合に作成：
- アーキテクチャの重要な決定
- 技術スタックの選定/変更
- 実装方針の変更
- トレードオフを伴う決定

---

## 📞 サポート

### フィードバック
テンプレートの改善提案は Issue で受け付けています。

### 質問
プロジェクト固有の質問は、各プロジェクトのチャネルで。

---

**最終更新**: 2025-11-13
**バージョン**: 1.0
**ステータス**: 完成
